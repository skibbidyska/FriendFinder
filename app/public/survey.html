<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0">
    <title>FriendFinder Survey</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
          crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
</head>
<body>
<nav class="navbar navbar-dark bg-dark">
    <a class="navbar-brand" href="/">FriendFinder</a><
</nav>
<div id="content-container" class="container-fluid">
    <div id="row" class="bg row ">
        <div class="col-lg-8 offset-lg-2 jumbotron jumbotron-fluid">
            <h1 id="friend-name" class="display-4"></h1>
            <div id="friend-image" >

            </div>
            <div id="info-container" class="container">
                <h1 class="display-4">FriendFinder Survey</h1>
                <p class="lead">Answer these questions and find out who you pair with best!</p>
                <hr class="my-4">
                <form>
                    <div class="form-group">
                        <label><h4>Enter Your Name</h4></label>
                        <input type="text" class="form-control" id="name">
                    </div>
                    <div class="form-group">
                        <label><h4>Link to Photo Image(Required)</h4></label>
                        <input type="text" class="form-control" id="photo-url">
                    </div>
                    <hr>
                    <br>
                    <div class="col-12 mt-3">
                        <h4>Question 1</h4>
                        <p>lauails fieis hefine fiwjwo wohfeivh owldkjs soifje wfohsheivu swoief woufowien fouwfeio
                            wfoifhefhe fwfoifhw ew?</p>
                        <select class="custom-select" id="q1">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                    </div>
                    <div class="col-12 mt-3">
                        <h4>Question 2</h4>
                        <p>lauails fieis hefine fiwjwo wohfeivh owldkjs soifje wfohsheivu swoief woufowien fouwfeio
                            wfoifhefhe fwfoifhw ew?</p>
                        <select class="custom-select" id="q2">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                    </div>
                    <div class="col-12 mt-3">
                        <h4>Question 3</h4>
                        <p>lauails fieis hefine fiwjwo wohfeivh owldkjs soifje wfohsheivu swoief woufowien fouwfeio
                            wfoifhefhe fwfoifhw ew?</p>
                        <select class="custom-select" id="q3">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                    </div>
                    <div class="col-12 mt-3">
                        <h4>Question 4</h4>
                        <p>lauails fieis hefine fiwjwo wohfeivh owldkjs soifje wfohsheivu swoief woufowien fouwfeio
                            wfoifhefhe fwfoifhw ew?</p>
                        <select class="custom-select" id="q4">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                    </div>
                    <div class="col-12 mt-3">
                        <h4>Question 5</h4>
                        <p>lauails fieis hefine fiwjwo wohfeivh owldkjs soifje wfohsheivu swoief woufowien fouwfeio
                            wfoifhefhe fwfoifhw ew?</p>
                        <select class="custom-select" id="q5">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                    </div>
                    <div class="col-12 mt-3">
                        <h4>Question 6</h4>
                        <p>lauails fieis hefine fiwjwo wohfeivh owldkjs soifje wfohsheivu swoief woufowien fouwfeio
                            wfoifhefhe fwfoifhw ew?</p>
                        <select class="custom-select" id="q6">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                    </div>
                    <div class="col-12 mt-3">
                        <h4>Question 7</h4>
                        <p>lauails fieis hefine fiwjwo wohfeivh owldkjs soifje wfohsheivu swoief woufowien fouwfeio
                            wfoifhefhe fwfoifhw ew?</p>
                        <select class="custom-select" id="q7">
                            <option value="1">One</option>
                            <option value="2">Two</option>
                            <option value="3">Three</option>
                            <option value="4">Four</option>
                            <option value="5">Five</option>
                        </select>
                    </div>
                    <div class="col-12 mt-4">
                        <button type="submit" id="submit" class="btn btn-primary btn-lg btn-block">Submit Survey
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

</div>
<div class="container text-center footer">
    <a target="_blank" href="/api/friendslist">API Friends List</a> | <a target="_blank"
                                                                         href="https://github.com/skibbidyska/FriendFinder">GitHub
    Repo</a>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('#submit').on("click", function (event) {
            event.preventDefault();
            var newFriend = {
                name: $('#name').val().trim(),
                photo: $('#photo-url').val().trim(),
                scores: [
                    $('#q1').val(),
                    $('#q2').val(),
                    $('#q3').val(),
                    $('#q4').val(),
                    $('#q5').val(),
                    $('#q6').val(),
                    $('#q7').val()
                ]
            };


            var container = $('#info-container');
            container.empty();
            $('#row').removeAttr('class', 'bg');
            $('#content-container').removeAttr('class', 'content-fluid');
            $('#content-container').attr('class', 'bg text-center');


            $.ajax({
                url: '/api/friendslist',
                data: JSON.stringify(newFriend),
                contentType: 'application/json',
                method: 'POST'
            })
                .then(function (data) {
                    console.log(data.photo);
                    $('#friend-name').append(data.name);
                    $('#friend-name').append('<br>');
                    $('#friend-name').append('<img src=' + data.photo + 'height="150" width="360">');
                });

        });


    })

</script>
</body>
</html>

